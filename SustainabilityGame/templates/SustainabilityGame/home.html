{% extends 'base.html' %}
{% load static %}

{% block title %}Eco Harvest Game{% endblock %}

{% block content %}
<div class="game-container">
    <h1>Eco Harvest Challenge</h1>
    <p>Balance resources to grow sustainable crops!</p>

    <div class="game-options">
        <a href="{% url 'play_game' %}" class="game-button">Play Now</a>
        <a href="{% url 'game_leaderboard' %}" class="game-button">Leaderboard</a>
    </div>

    <div class="game-info">
        <div class="recent-games">
            <h2>Your Recent Games</h2>
            <ul>
                {% for game in user_games %}
                    <li>Score: {{ game.score }} - {{ game.date_played|date:"M d, Y" }}</li>
                {% empty %}
                    <li>No games played yet!</li>
                {% endfor %}
            </ul>
        </div>

        <div class="achievements">
            <h2>Your Achievements</h2>
            <div class="achievement-list">
                {% for user_achievement in user_achievements %}
                    <div class="achievement-badge">
                        <img src="{{ user_achievement.achievement.icon.url }}" alt="{{ user_achievement.achievement.name }}">
                        <p>{{ user_achievement.achievement.name }}</p>
                    </div>
                {% empty %}
                    <p>No achievements yet. Start playing!</p>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}